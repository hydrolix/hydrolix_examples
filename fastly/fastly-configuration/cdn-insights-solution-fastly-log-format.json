{
  "timestamp": "%{begin:%Y-%m-%dT%H:%M:%S}t",
  "result_type": "%{fastly_info.state}V",
  "response_total_bytes":%{resp.bytes_written}V,
  "response_status_code": "%{resp.status}V",
  "response_time_to_first_byte": %{time.to_first_byte}V,
  "response_time_to_last_byte": %{time.elapsed}V,
  "response_content_type": %{if(resp.http.content-type,
  "%22" + json.escape(resp.http.content-type) + "%22",
  "null")}V,
  "request_method": "%{json.escape(req.method)}V",
  "request_host": "%{Host}i",
  "request_referer": %{if(req.http.referer,
  "%22" + json.escape(req.http.referer) + "%22",
  "null")}V,
  "original_url": "%{json.escape(req.http.X-Original-URL)}V",
  "user_agent": %{if(req.http.user-agent,
  "%22" + json.escape(req.http.user-agent) + "%22",
  "null")}V,
  "client_ip": "%{req.http.fastly-client-ip}V",
  "edge_ip": "%{server.ip}V",
  "origin_ip": "%{beresp.backend.ip}V",
  "edge_pop": "%{server.datacenter}V",
  "client_country_iso_code": "%{client.geo.country_code3}V",
  "client_asn": "%{client.as.number}V",
  "client_city": "%{client.geo.city}V",
  "is_edge": %{if(fastly.ff.visits_this_service == 0,
  "true",
  "false")}V
}